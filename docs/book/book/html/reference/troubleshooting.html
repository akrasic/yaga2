<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Troubleshooting - Yaga2 Anomaly Detection Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive guide to anomaly detection, SLO evaluation, and incident management">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "ayu";
            window.path_to_searchindex_js = "../searchindex-5019ba8d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-e4c30426.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Yaga2 Anomaly Detection Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/smartbox/yaga2" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/smartbox/yaga2/edit/main/docs/book/src/reference/troubleshooting.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<p>This guide helps you diagnose and resolve common issues with the anomaly detection system. Each section follows a systematic approach: identify symptoms, understand root causes, and apply targeted solutions.</p>
<h2 id="how-to-use-this-guide"><a class="header" href="#how-to-use-this-guide">How to Use This Guide</a></h2>
<p>When troubleshooting:</p>
<ol>
<li><strong>Identify the symptom</strong> - What behavior are you observing?</li>
<li><strong>Gather evidence</strong> - Collect relevant logs and configuration</li>
<li><strong>Understand the cause</strong> - Why is this happening?</li>
<li><strong>Apply the fix</strong> - Make targeted changes</li>
<li><strong>Verify the solution</strong> - Confirm the issue is resolved</li>
</ol>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                   TROUBLESHOOTING WORKFLOW                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│    Symptom                                                      │
│       │                                                         │
│       ▼                                                         │
│    Which category?                                              │
│       │                                                         │
│       ├──▶ Detection Issues (no alerts, false positives)        │
│       ├──▶ Incident Lifecycle (confirmation, resolution)        │
│       ├──▶ Metrics Issues (unavailable, validation)             │
│       ├──▶ SLO Issues (evaluation, thresholds)                  │
│       ├──▶ Training Issues (failures, drift)                    │
│       └──▶ Container Issues (restarts, resources)               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
</code></pre>
<hr>
<h2 id="detection-issues"><a class="header" href="#detection-issues">Detection Issues</a></h2>
<h3 id="no-anomalies-detected-when-expected"><a class="header" href="#no-anomalies-detected-when-expected">No Anomalies Detected (When Expected)</a></h3>
<p><strong>Symptoms</strong>:</p>
<ul>
<li>Real incidents are occurring but the system generates no alerts</li>
<li>Dashboards show problems but Yaga2 reports <code>alert_type: "no_anomaly"</code></li>
<li>Users report issues but your alerting is silent</li>
</ul>
<p><strong>Why This Happens</strong>:</p>
<p>The detection pipeline has multiple stages where anomalies can be “filtered out”:</p>
<pre><code>Metrics Collection → ML Detection → Pattern Matching → SLO Evaluation → Alerting
        │                 │                │                 │
        │                 │                │                 │
     No data?         No model?      No pattern?      SLO suppressed?
     (fail here)      (fail here)    (no match)       (low severity)
</code></pre>
<p><strong>Diagnostic Decision Tree</strong>:</p>
<pre><code>No alerts generated?
        │
        ├─▶ Are metrics being collected?
        │       │
        │       ├─ NO ──▶ Check VictoriaMetrics connectivity
        │       │         (See: metrics_unavailable section)
        │       │
        │       └─ YES ─▶ Do models exist for this service?
        │                       │
        │                       ├─ NO ──▶ Train models
        │                       │
        │                       └─ YES ─▶ Is the service in config?
        │                                       │
        │                                       ├─ NO ──▶ Add to config
        │                                       │
        │                                       └─ YES ─▶ Check contamination
        │                                                 and SLO settings
</code></pre>
<p><strong>Step 1: Verify models exist</strong>:</p>
<pre><code class="language-bash"># Check if models directory exists for your service
ls -la smartbox_models/&lt;service-name&gt;/

# Expected output shows time period subdirectories:
# drwxr-xr-x  business_hours/
# drwxr-xr-x  evening_hours/
# drwxr-xr-x  night_hours/
# drwxr-xr-x  weekend_day/
# drwxr-xr-x  weekend_night/
</code></pre>
<p>If no models exist, train them:</p>
<pre><code class="language-bash">docker compose run --rm yaga train
</code></pre>
<p><strong>Step 2: Check inference logs</strong>:</p>
<pre><code class="language-bash"># View recent inference activity
docker compose exec yaga tail -50 /app/logs/inference.log

# Look for your service
docker compose exec yaga grep "&lt;service-name&gt;" /app/logs/inference.log | tail -20
</code></pre>
<p><strong>Step 3: Run verbose inference</strong>:</p>
<pre><code class="language-bash"># This shows detailed detection output
docker compose run --rm yaga inference --verbose
</code></pre>
<p>Look for output like:</p>
<pre><code>Service: booking
  Time period: business_hours
  Metrics collected: ✓
  ML detection: No anomalies (all scores normal)
  Pattern matching: No patterns matched
  Result: alert_type = no_anomaly
</code></pre>
<p><strong>Common Causes and Solutions</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Cause</th><th>How to Identify</th><th>Solution</th></tr>
</thead>
<tbody>
<tr><td>No trained model</td><td><code>ls smartbox_models/&lt;service&gt;/</code> is empty</td><td>Run <code>docker compose run --rm yaga train</code></td></tr>
<tr><td>Service not in config</td><td>Service not listed in <code>config.json</code></td><td>Add to appropriate <code>services</code> category</td></tr>
<tr><td>Contamination too high</td><td>Model trained with high contamination (e.g., 0.10)</td><td>Lower to 0.03-0.05 and retrain</td></tr>
<tr><td>Model stale</td><td>Model trained on old data; current behavior differs</td><td>Retrain with recent data</td></tr>
<tr><td>Wrong time period</td><td>Checking business_hours during night</td><td>Verify timezone configuration</td></tr>
<tr><td>SLO suppression</td><td>Anomaly detected but SLO says “ok”</td><td>Check SLO thresholds (may be too lenient)</td></tr>
</tbody>
</table>
</div>
<p><strong>Example Investigation</strong>:</p>
<pre><code>Scenario: booking service had a 5-minute outage but no alert was generated

Step 1: Check models
$ ls smartbox_models/booking/
business_hours/  evening_hours/  night_hours/  weekend_day/  weekend_night/
✓ Models exist

Step 2: Check if service is in config
$ grep -A5 '"services"' config.json
"services": {
  "critical": ["booking", "search"],
  ...
}
✓ Service is configured

Step 3: Run verbose inference during the issue
$ docker compose run --rm yaga inference --verbose
...
booking: ML detected anomaly (score: -0.45, severity: high)
booking: SLO evaluation: latency 250ms &lt; 500ms acceptable → status: ok
booking: Severity adjusted: high → low (SLO status ok)
...

Diagnosis: SLO threshold too lenient (500ms acceptable)
Fix: Lower latency_acceptable_ms to 200ms
</code></pre>
<hr>
<h3 id="too-many-false-positives"><a class="header" href="#too-many-false-positives">Too Many False Positives</a></h3>
<p><strong>Symptoms</strong>:</p>
<ul>
<li>Alerts fire during normal operation</li>
<li>Team ignores alerts due to noise (alert fatigue)</li>
<li>Anomalies detected don’t correlate with real problems</li>
</ul>
<p><strong>Understanding False Positives</strong>:</p>
<p>False positives occur when the ML model flags behavior as “anomalous” when it’s actually normal. This happens because:</p>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    WHY FALSE POSITIVES HAPPEN                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. Contamination Too Low                                       │
│     ┌──────────────────────────────────┐                       │
│     │ Training data distribution       │                       │
│     │                                  │                       │
│     │         ●●●●●●                   │                       │
│     │        ●●●●●●●●                  │                       │
│     │       ●●●●●●●●●●   ← Model       │                       │
│     │        ●●●●●●●●      learns      │                       │
│     │         ●●●●●●       "normal"    │                       │
│     │           ▲                      │                       │
│     │     If contamination=0.02,      │                       │
│     │     only top 2% flagged         │                       │
│     └──────────────────────────────────┘                       │
│     → Normal variance at edges gets flagged                    │
│                                                                 │
│  2. Seasonality Not Captured                                    │
│     Model trained during quiet period, now in busy season       │
│                                                                 │
│  3. Recent Behavior Change                                      │
│     Deployment changed baseline, model is stale                 │
│                                                                 │
│  4. Time Period Mismatch                                        │
│     Night traffic patterns flagged by business_hours model      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>Solution 1: Increase contamination rate</strong></p>
<p>The contamination rate tells the model what percentage of training data to consider “anomalous”. Higher values = less sensitive detection.</p>
<pre><code class="language-json">{
  "model": {
    "contamination_by_service": {
      "noisy-service": 0.08
    }
  }
}
</code></pre>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Contamination</th><th>Sensitivity</th><th>Best For</th></tr>
</thead>
<tbody>
<tr><td>0.02-0.03</td><td>Very high</td><td>Critical services where every alert matters</td></tr>
<tr><td>0.05</td><td>Balanced</td><td>Most production services</td></tr>
<tr><td>0.08-0.10</td><td>Lower</td><td>Noisy services, variable traffic</td></tr>
</tbody>
</table>
</div>
<p><strong>Solution 2: Adjust SLO thresholds</strong></p>
<p>SLO evaluation can suppress anomalies that don’t have operational impact:</p>
<pre><code class="language-json">{
  "slos": {
    "services": {
      "noisy-service": {
        "latency_acceptable_ms": 600,
        "error_rate_floor": 0.005
      }
    }
  }
}
</code></pre>
<p>This tells the system: “Even if ML detects an anomaly, don’t alert unless latency exceeds 600ms or error rate exceeds 0.5%.”</p>
<p><strong>Solution 3: Retrain models</strong></p>
<p>After changing configuration, always retrain:</p>
<pre><code class="language-bash">docker compose run --rm yaga train
</code></pre>
<p><strong>Measuring Improvement</strong>:</p>
<p>Track your false positive rate before and after changes:</p>
<pre><code>Before tuning:
  Total alerts (7 days): 145
  Actionable: 12 (8%)
  False positives: 133 (92%)

After increasing contamination 0.03 → 0.06:
  Total alerts (7 days): 34
  Actionable: 11 (32%)
  False positives: 23 (68%)

After adjusting SLO thresholds:
  Total alerts (7 days): 18
  Actionable: 10 (56%)
  False positives: 8 (44%)
</code></pre>
<hr>
<h3 id="alerts-always-low-severity"><a class="header" href="#alerts-always-low-severity">Alerts Always Low Severity</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li>All alerts show <code>severity: low</code></li>
<li>Never see <code>high</code> or <code>critical</code> alerts</li>
<li>Real incidents don’t escalate properly</li>
</ul>
<p><strong>Understanding Severity Flow</strong>:</p>
<pre><code>ML Detection (original severity)
        │
        ▼
SLO Evaluation
        │
        ├─ SLO breached ──▶ Keep/Escalate to CRITICAL
        │
        ├─ SLO warning ───▶ Keep HIGH
        │
        └─ SLO ok ────────▶ Downgrade to LOW
</code></pre>
<p>When SLO status is <code>ok</code> (all metrics within acceptable thresholds), severity is <strong>always</strong> downgraded to <code>low</code>. This is intentional—if metrics are operationally acceptable, the alert shouldn’t be high priority.</p>
<p><strong>The Problem</strong>:</p>
<p>If your SLO thresholds are too lenient, anomalies will never breach them:</p>
<pre><code>Example: Latency threshold too high

Current latency: 450ms (genuinely slow for this service)
SLO acceptable: 500ms (too lenient)
SLO status: "ok" (450 &lt; 500)
Result: severity = low (even though users are impacted)
</code></pre>
<p><strong>Solution: Tighten SLO thresholds</strong></p>
<p>Review and lower your acceptable thresholds:</p>
<pre><code class="language-json">{
  "slos": {
    "services": {
      "booking": {
        "latency_acceptable_ms": 200,
        "latency_warning_ms": 300,
        "latency_critical_ms": 400,
        "error_rate_acceptable": 0.002,
        "error_rate_warning": 0.005,
        "error_rate_critical": 0.01
      }
    }
  }
}
</code></pre>
<p><strong>Before vs After</strong>:</p>
<pre><code>BEFORE (lenient thresholds):
  Latency acceptable: 500ms
  Current latency: 350ms
  SLO status: ok (350 &lt; 500)
  ML severity: high → Adjusted: low

AFTER (tightened thresholds):
  Latency acceptable: 200ms
  Current latency: 350ms
  SLO status: warning (350 &gt; 200, &lt; 400)
  ML severity: high → Adjusted: high (kept)
</code></pre>
<p><strong>Finding the Right Thresholds</strong>:</p>
<ol>
<li>
<p>Look at your historical latency distribution:</p>
<pre><code class="language-bash"># In VictoriaMetrics, query p50, p90, p99 for your service
</code></pre>
</li>
<li>
<p>Set thresholds based on percentiles:</p>
<ul>
<li><code>acceptable</code>: Around p75 (allows normal variance)</li>
<li><code>warning</code>: Around p90 (getting concerning)</li>
<li><code>critical</code>: Around p99 (definitely a problem)</li>
</ul>
</li>
</ol>
<hr>
<h2 id="incident-lifecycle-issues"><a class="header" href="#incident-lifecycle-issues">Incident Lifecycle Issues</a></h2>
<h3 id="alerts-not-being-sent"><a class="header" href="#alerts-not-being-sent">Alerts Not Being Sent</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li>Verbose output shows anomaly detected</li>
<li>Web API never receives the alert</li>
<li>Dashboard shows no incidents</li>
</ul>
<p><strong>Understanding Alert Flow</strong>:</p>
<pre><code>Anomaly Detected
        │
        ▼
Is incident confirmed?
        │
        ├─ NO (SUSPECTED) ──▶ NOT sent to web API
        │                      └─ Wait for next cycle
        │
        └─ YES (OPEN) ───────▶ Sent to web API
                                └─ Dashboard shows alert
</code></pre>
<p><strong>Diagnostic Steps</strong>:</p>
<p><strong>Step 1: Check if anomaly is in SUSPECTED state</strong></p>
<pre><code class="language-bash">docker compose run --rm yaga inference --verbose
</code></pre>
<p>Look for:</p>
<pre><code>fingerprint_action: CREATE
status: SUSPECTED
is_confirmed: false
cycles_to_confirm: 1
</code></pre>
<p>If <code>status: SUSPECTED</code>, the anomaly hasn’t been confirmed yet. Wait for the next detection cycle.</p>
<p><strong>Step 2: Check web API connectivity</strong></p>
<pre><code class="language-bash"># Test if web API is reachable
docker compose exec yaga curl http://observability-api:8000/health

# Expected: {"status": "healthy"}
</code></pre>
<p>If this fails, check:</p>
<ul>
<li>Is the observability API running?</li>
<li>Is the network configured correctly?</li>
<li>Are there firewall rules blocking traffic?</li>
</ul>
<p><strong>Step 3: Check if API is enabled</strong></p>
<pre><code class="language-json">{
  "observability_api": {
    "enabled": true,
    "base_url": "http://observability-api:8000"
  }
}
</code></pre>
<p>If <code>enabled: false</code>, alerts won’t be sent.</p>
<p><strong>Step 4: Check for API errors in logs</strong></p>
<pre><code class="language-bash">docker compose exec yaga grep -i "api" /app/logs/inference.log | tail -20

# Look for:
# - "API call failed"
# - "Connection refused"
# - "Timeout"
</code></pre>
<hr>
<h3 id="orphaned-incidents-in-web-api"><a class="header" href="#orphaned-incidents-in-web-api">Orphaned Incidents in Web API</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li>Web API shows OPEN incidents that never resolve</li>
<li>Incidents stuck in dashboard for days/weeks</li>
<li><code>consecutive_detections = 1</code> on stuck incidents</li>
</ul>
<p><strong>Why This Happens</strong>:</p>
<p>Before v1.3.2, SUSPECTED incidents were sent to the web API. If they expired without confirmation, no resolution was sent:</p>
<pre><code>OLD BEHAVIOR (pre-v1.3.2):
─────────────────────────
10:00  Anomaly detected → SUSPECTED incident created
10:00  Alert sent to web API → Web API creates OPEN incident
10:03  Anomaly not detected → SUSPECTED expires
10:03  No resolution sent → Web API incident stays OPEN forever!

NEW BEHAVIOR (v1.3.2+):
───────────────────────
10:00  Anomaly detected → SUSPECTED incident created
       (NOT sent to web API - waiting for confirmation)
10:03  Anomaly not detected → SUSPECTED expires silently
       Web API never knew about it → No orphan created
</code></pre>
<p><strong>Identifying Orphaned Incidents</strong>:</p>
<p>Query your web API database:</p>
<pre><code class="language-sql">-- Find orphaned incidents (never confirmed but sent)
SELECT incident_id, service_name, created_at, consecutive_detections
FROM incidents
WHERE status = 'OPEN'
  AND consecutive_detections = 1
  AND created_at &lt; NOW() - INTERVAL '24 hours';
</code></pre>
<p><strong>Solutions</strong>:</p>
<ol>
<li><strong>Manual cleanup</strong>: Close orphaned incidents in the web API</li>
<li><strong>Wait for upgrade</strong>: v1.3.2+ won’t create new orphans</li>
<li><strong>Automated cleanup</strong>: Add a job to close incidents older than X days with <code>consecutive_detections = 1</code></li>
</ol>
<hr>
<h3 id="incidents-restarting-unexpectedly"><a class="header" href="#incidents-restarting-unexpectedly">Incidents Restarting Unexpectedly</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li>Same anomaly pattern creates multiple incident IDs</li>
<li>Incident history shows many short incidents instead of one long one</li>
<li>Resolution reason shows <code>auto_stale</code></li>
</ul>
<p><strong>Understanding Staleness</strong>:</p>
<p>The system considers an incident “stale” if the time gap since last detection exceeds <code>incident_separation_minutes</code> (default: 30):</p>
<pre><code>Timeline with 45-minute gap:
──────────────────────────────────────────────────────────────
10:00  Anomaly detected → incident_abc created (SUSPECTED)
10:03  Detected again → incident_abc confirmed (OPEN)
10:06  Detected again → incident_abc continues
...
10:30  Last detection
       (service recovers but then has a second issue)
11:15  Anomaly detected → 45 min gap &gt; 30 min threshold
                        → incident_abc auto-closed (stale)
                        → incident_xyz created (new incident)
</code></pre>
<p><strong>When This Is Correct vs. Problematic</strong>:</p>
<pre><code>CORRECT (two separate issues):
──────────────────────────────
10:00-10:30: Database slow due to query
11:15-12:00: Database slow due to disk I/O

These ARE two different incidents - staleness helps track them separately.


PROBLEMATIC (one issue, intermittent symptoms):
───────────────────────────────────────────────
10:00-10:30: Network flaky (detected)
10:30-11:15: Network stable (not detected)
11:15-11:45: Network flaky again (same issue)

This is ONE issue but creates multiple incidents.
</code></pre>
<p><strong>Solution: Increase separation threshold</strong></p>
<pre><code class="language-json">{
  "fingerprinting": {
    "incident_separation_minutes": 60
  }
}
</code></pre>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Threshold</th><th>Use Case</th></tr>
</thead>
<tbody>
<tr><td>15 min</td><td>Fast-resolving issues, want precise tracking</td></tr>
<tr><td>30 min</td><td>Default, good balance</td></tr>
<tr><td>60 min</td><td>Intermittent issues, prefer fewer incidents</td></tr>
<tr><td>120 min</td><td>Very intermittent, consolidate aggressively</td></tr>
</tbody>
</table>
</div>
<hr>
<h2 id="metrics-issues"><a class="header" href="#metrics-issues">Metrics Issues</a></h2>
<h3 id="metrics_unavailable-alerts"><a class="header" href="#metrics_unavailable-alerts">metrics_unavailable Alerts</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li><code>alert_type: "metrics_unavailable"</code> instead of detection results</li>
<li>Detection skipped for some/all services</li>
<li>Circuit breaker messages in logs</li>
</ul>
<p><strong>Understanding This Alert</strong>:</p>
<p>The system returns <code>metrics_unavailable</code> when it cannot collect metrics reliably. This prevents false alerts—if we can’t read metrics, we shouldn’t guess.</p>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                  METRICS UNAVAILABLE SCENARIOS                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Scenario 1: VictoriaMetrics Down                              │
│  ─────────────────────────────────                             │
│  All metrics fail → All services return metrics_unavailable    │
│                                                                 │
│  Scenario 2: Critical Metric Failed                            │
│  ─────────────────────────────────                             │
│  request_rate failed → Detection skipped (prevents false       │
│  "traffic cliff" from 0.0 value)                               │
│                                                                 │
│  Scenario 3: Partial Failure (Non-Critical)                    │
│  ──────────────────────────────────────────                    │
│  database_latency failed, others OK → Detection runs with      │
│  warning, partial_metrics_failure in output                    │
│                                                                 │
│  Scenario 4: Circuit Breaker Open                              │
│  ────────────────────────────────                              │
│  Too many failures → Circuit breaker prevents further calls    │
│  Wait for timeout (5 min) or fix underlying issue              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>Diagnostic Steps</strong>:</p>
<p><strong>Step 1: Test VictoriaMetrics connectivity</strong></p>
<pre><code class="language-bash"># From inside the container
docker compose exec yaga curl -s "http://vm:8428/api/v1/status/buildinfo"

# Expected: JSON with version info
# If this fails, VM is unreachable
</code></pre>
<p><strong>Step 2: Check for circuit breaker</strong></p>
<pre><code class="language-bash">docker compose exec yaga tail -50 /app/logs/inference.log | grep -i "circuit"

# Look for:
# "Circuit breaker OPEN - too many failures"
# "Circuit breaker will reset in X seconds"
</code></pre>
<p><strong>Step 3: Check which metrics failed</strong></p>
<p>Look at the output:</p>
<pre><code class="language-json">{
  "alert_type": "metrics_unavailable",
  "failed_metrics": ["request_rate", "application_latency"],
  "collection_errors": {
    "request_rate": "Connection timeout after 10s",
    "application_latency": "Connection timeout after 10s"
  }
}
</code></pre>
<p><strong>Solutions</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Problem</th><th>Solution</th></tr>
</thead>
<tbody>
<tr><td>VM down</td><td>Restart VictoriaMetrics, check VM health</td></tr>
<tr><td>Network issue</td><td>Check firewall, DNS, routing</td></tr>
<tr><td>Circuit breaker open</td><td>Wait 5 minutes or fix underlying issue</td></tr>
<tr><td>Timeout</td><td>Increase <code>timeout_seconds</code> in config</td></tr>
</tbody>
</table>
</div>
<p><strong>Circuit Breaker Behavior</strong>:</p>
<pre><code>Normal Operation:
  Requests succeed → Circuit CLOSED

5 consecutive failures:
  Circuit OPENS → All requests fail fast (no retry)

After 5 minutes (configurable):
  Circuit HALF-OPEN → One request allowed

  If succeeds → Circuit CLOSES
  If fails → Circuit stays OPEN for another timeout
</code></pre>
<hr>
<h3 id="validation-warnings"><a class="header" href="#validation-warnings">Validation Warnings</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li><code>validation_warnings</code> array in output</li>
<li>Messages like “capping at 1.0” or “using 0.0”</li>
</ul>
<p><strong>Understanding Validation</strong>:</p>
<p>Before metrics are processed, they’re validated at the inference boundary:</p>
<pre><code>Raw Metric Value
        │
        ▼
   Validation
        │
        ├─ NaN/Inf? ──────────▶ Replace with 0.0
        ├─ Negative rate? ────▶ Cap at 0.0
        ├─ Error rate &gt; 1.0? ─▶ Cap at 1.0
        ├─ Latency &gt; 5 min? ──▶ Cap at 300,000ms
        └─ Request rate &gt; 1M? ▶ Cap at 1,000,000
        │
        ▼
   Sanitized Value (used for detection)
   + Warning (logged for investigation)
</code></pre>
<p><strong>Example Warnings</strong>:</p>
<pre><code class="language-json">{
  "validation_warnings": [
    "error_rate: value 1.5 &gt; 1.0, capping at 1.0",
    "application_latency: negative value -50, using 0.0",
    "request_rate: NaN detected, using 0.0"
  ]
}
</code></pre>
<p><strong>Why This Happens</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Warning</th><th>Likely Cause</th><th>Investigation</th></tr>
</thead>
<tbody>
<tr><td>Error rate &gt; 1.0</td><td>Metric miscalculation upstream</td><td>Check error rate query definition</td></tr>
<tr><td>Negative latency</td><td>Clock skew or calculation bug</td><td>Check latency metric source</td></tr>
<tr><td>NaN/Inf</td><td>Division by zero, no data</td><td>Check if service was down</td></tr>
<tr><td>Extreme values</td><td>Metric spike or bug</td><td>Verify in VictoriaMetrics UI</td></tr>
</tbody>
</table>
</div>
<p><strong>Action Required</strong>:</p>
<p>Validation warnings are <strong>informational</strong>. Detection still runs with sanitized values. However, frequent warnings indicate upstream data quality issues that should be investigated.</p>
<pre><code class="language-bash"># Track warning frequency
docker compose exec yaga grep "validation_warnings" /app/logs/inference.log | wc -l
</code></pre>
<hr>
<h2 id="slo-issues"><a class="header" href="#slo-issues">SLO Issues</a></h2>
<h3 id="slo-evaluation-failed"><a class="header" href="#slo-evaluation-failed">SLO Evaluation Failed</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li>Warning in logs about SLO evaluation</li>
<li>Anomalies not being severity-adjusted</li>
<li>Missing <code>slo_evaluation</code> in output</li>
</ul>
<p><strong>Common Causes</strong>:</p>
<p><strong>1. SLO not enabled</strong></p>
<pre><code class="language-json">{
  "slos": {
    "enabled": false
  }
}
</code></pre>
<p>Set to <code>true</code> to enable SLO evaluation.</p>
<p><strong>2. Service not configured</strong></p>
<p>If a service isn’t in the SLO config, it uses defaults:</p>
<pre><code class="language-json">{
  "slos": {
    "services": {
      "booking": {
        "latency_acceptable_ms": 300
      }
    }
  }
}
</code></pre>
<p>Services not listed use values from <code>slos.defaults</code>.</p>
<p><strong>3. Missing training statistics</strong></p>
<p>SLO evaluation for database latency requires training baseline. If the model doesn’t have statistics, evaluation is skipped.</p>
<pre><code class="language-bash"># Check if training statistics exist
docker compose exec yaga cat smartbox_models/&lt;service&gt;/business_hours/metadata.json | python -c "import sys,json; d=json.load(sys.stdin); print(d.get('statistics', {}))"
</code></pre>
<hr>
<h3 id="database-latency-always-ok"><a class="header" href="#database-latency-always-ok">Database Latency Always OK</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li>ML detects database latency anomaly</li>
<li>But <code>database_latency_evaluation.status: "ok"</code></li>
<li>Even when database is clearly slow</li>
</ul>
<p><strong>Understanding the Noise Floor</strong>:</p>
<p>Database latency uses a hybrid approach:</p>
<pre><code>Current DB Latency
        │
        ▼
   Below noise floor?
        │
        ├─ YES (e.g., 2ms &lt; 5ms floor)
        │       │
        │       └─▶ status: "ok" (noise filtered)
        │
        └─ NO (above floor)
                │
                └─▶ Calculate ratio to baseline
                        │
                        └─▶ Ratio-based status
</code></pre>
<p><strong>Why This Design</strong>:</p>
<p>For services with very fast databases (sub-millisecond), small absolute changes are operationally meaningless:</p>
<pre><code>Without noise floor:
  Baseline: 0.3ms
  Current: 0.6ms
  Ratio: 2.0x → status: "warning"

  But 0.6ms is still FAST! This alert is noise.

With noise floor (5ms):
  Current: 0.6ms &lt; 5ms floor
  status: "ok" (filtered)

  Operationally correct - 0.6ms is fine.
</code></pre>
<p><strong>Adjusting the Floor</strong>:</p>
<p>For services with fast databases where you want to detect small changes:</p>
<pre><code class="language-json">{
  "slos": {
    "services": {
      "fast-db-service": {
        "database_latency_floor_ms": 1.0
      }
    }
  }
}
</code></pre>
<p>For services with slow databases where 5ms is normal:</p>
<pre><code class="language-json">{
  "slos": {
    "services": {
      "slow-db-service": {
        "database_latency_floor_ms": 10.0
      }
    }
  }
}
</code></pre>
<p><strong>Checking Current Configuration</strong>:</p>
<pre><code class="language-json">{
  "database_latency_evaluation": {
    "value_ms": 2.0,
    "baseline_mean_ms": 1.5,
    "floor_ms": 5.0,
    "below_floor": true,
    "ratio": 0.0,
    "status": "ok"
  }
}
</code></pre>
<p>If <code>below_floor: true</code>, the value is being filtered. Lower the floor if needed.</p>
<hr>
<h2 id="training-issues"><a class="header" href="#training-issues">Training Issues</a></h2>
<h3 id="training-fails"><a class="header" href="#training-fails">Training Fails</a></h3>
<p><strong>Symptoms</strong>:</p>
<ul>
<li>Models not updating (old timestamps)</li>
<li>Training command exits with error</li>
<li>No model files created</li>
</ul>
<p><strong>Diagnostic Checklist</strong>:</p>
<pre><code>Training Failed?
        │
        ├─▶ 1. Can we reach VictoriaMetrics?
        │       │
        │       └─ No → Fix network/VM connectivity
        │
        ├─▶ 2. Is there enough historical data?
        │       │
        │       └─ &lt; 30 days → Wait for data accumulation
        │
        ├─▶ 3. Is there enough disk space?
        │       │
        │       └─ Low → Clean old models/logs
        │
        ├─▶ 4. Is there enough memory?
        │       │
        │       └─ OOM → Increase container memory
        │
        └─▶ 5. Is the config valid?
                │
                └─ Invalid JSON → Fix syntax
</code></pre>
<p><strong>Step 1: Check training logs</strong></p>
<pre><code class="language-bash">docker compose exec yaga cat /app/logs/train.log

# Look for:
# - "Training failed for service X"
# - "Not enough data points"
# - "Connection refused"
# - "MemoryError"
</code></pre>
<p><strong>Step 2: Check VictoriaMetrics</strong></p>
<pre><code class="language-bash">docker compose exec yaga curl -s "http://vm:8428/api/v1/status/buildinfo"

# If this fails, VM is unreachable
</code></pre>
<p><strong>Step 3: Check disk space</strong></p>
<pre><code class="language-bash">df -h

# Models typically need 10-50MB per service
# Ensure at least 1GB free
</code></pre>
<p><strong>Step 4: Run training manually</strong></p>
<pre><code class="language-bash">docker compose run --rm yaga train 2&gt;&amp;1 | tee train_output.log

# This shows real-time output for diagnosis
</code></pre>
<p><strong>Common Causes and Solutions</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Cause</th><th>Symptoms</th><th>Solution</th></tr>
</thead>
<tbody>
<tr><td>VM unreachable</td><td>“Connection refused”</td><td>Check network, VM status</td></tr>
<tr><td>Not enough data</td><td>“Insufficient samples”</td><td>Wait for 30 days of data</td></tr>
<tr><td>Disk full</td><td>“No space left”</td><td>Clean old models: <code>rm -rf smartbox_models/old-service/</code></td></tr>
<tr><td>Memory exhausted</td><td>“MemoryError” or OOM killed</td><td>Increase memory limit in docker-compose</td></tr>
<tr><td>Invalid config</td><td>“JSON decode error”</td><td>Validate config.json syntax</td></tr>
</tbody>
</table>
</div>
<p><strong>Minimum Data Requirements</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Model Type</th><th>Minimum Samples</th><th>Typical Duration</th></tr>
</thead>
<tbody>
<tr><td>Univariate (per-metric)</td><td>500</td><td>~2 days at 5-min intervals</td></tr>
<tr><td>Multivariate (combined)</td><td>1000</td><td>~4 days at 5-min intervals</td></tr>
<tr><td>Full time-period coverage</td><td>8640</td><td>30 days (captures weekly patterns)</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="model-drift-detected"><a class="header" href="#model-drift-detected">Model Drift Detected</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li><code>drift_warning</code> in inference output</li>
<li>Confidence scores reduced</li>
<li>Recommendation to retrain</li>
</ul>
<p><strong>Understanding Drift</strong>:</p>
<p>Model drift occurs when production data differs significantly from training data:</p>
<pre><code>Training Data (30 days ago)          Current Data
─────────────────────────            ────────────
Mean latency: 100ms                  Mean latency: 200ms

Distribution:                        Distribution:
    ●●●●●                               ●●●●●
   ●●●●●●●                            ●●●●●●●●●
  ●●●●●●●●●                            ●●●●●●●●●●●●
 ●●●●●●●●●●●                              ●●●●●●●●●●●
    100ms                                    200ms

Model expects ~100ms                 Seeing ~200ms → DRIFT
</code></pre>
<p><strong>Drift Score Interpretation</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Score</th><th>Status</th><th>Action</th></tr>
</thead>
<tbody>
<tr><td>&lt; 3</td><td>Normal</td><td>No action needed</td></tr>
<tr><td>3-5</td><td>Moderate drift</td><td>Monitor, consider retraining</td></tr>
<tr><td>&gt; 5</td><td>Severe drift</td><td>Retrain soon</td></tr>
</tbody>
</table>
</div>
<p><strong>Output Example</strong>:</p>
<pre><code class="language-json">{
  "drift_warning": {
    "type": "model_drift",
    "overall_drift_score": 4.2,
    "affected_metrics": ["application_latency", "request_rate"],
    "recommendation": "WARNING: Moderate drift detected. Consider retraining.",
    "confidence_penalty_applied": 0.15
  }
}
</code></pre>
<p><strong>Why Drift Happens</strong>:</p>
<ol>
<li><strong>Seasonal changes</strong>: Holiday traffic patterns vs. normal</li>
<li><strong>Deployments</strong>: New code changed latency characteristics</li>
<li><strong>Infrastructure</strong>: Migrated to faster/slower hardware</li>
<li><strong>Business changes</strong>: New features changed usage patterns</li>
</ol>
<p><strong>Solution: Retrain</strong></p>
<pre><code class="language-bash">docker compose run --rm yaga train
</code></pre>
<p>This replaces old models with ones trained on recent data.</p>
<p><strong>Preventing Drift Issues</strong>:</p>
<ul>
<li>Schedule regular retraining (daily or weekly)</li>
<li>Retrain after significant deployments</li>
<li>Monitor drift scores in dashboards</li>
</ul>
<hr>
<h2 id="container-issues"><a class="header" href="#container-issues">Container Issues</a></h2>
<h3 id="container-keeps-restarting"><a class="header" href="#container-keeps-restarting">Container Keeps Restarting</a></h3>
<p><strong>Symptoms</strong>:</p>
<ul>
<li><code>docker compose ps</code> shows restart count increasing</li>
<li>Container never stays “Up” for long</li>
<li>Application logs show repeated startup/shutdown</li>
</ul>
<p><strong>Diagnostic Steps</strong>:</p>
<p><strong>Step 1: Check exit code</strong></p>
<pre><code class="language-bash">docker compose ps -a

# Look for:
# smartbox-anomaly  Exit 1   (error exit)
# smartbox-anomaly  Exit 137 (OOM killed)
# smartbox-anomaly  Exit 0   (clean exit, shouldn't restart)
</code></pre>
<p><strong>Step 2: Check recent logs</strong></p>
<pre><code class="language-bash">docker compose logs --tail 100

# Look for error messages near the end
</code></pre>
<p><strong>Step 3: Check container events</strong></p>
<pre><code class="language-bash">docker events --filter container=smartbox-anomaly --since 1h
</code></pre>
<p><strong>Common Exit Codes</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Exit Code</th><th>Meaning</th><th>Solution</th></tr>
</thead>
<tbody>
<tr><td>0</td><td>Clean exit</td><td>Check restart policy, should be <code>unless-stopped</code></td></tr>
<tr><td>1</td><td>Application error</td><td>Check logs for error message</td></tr>
<tr><td>137</td><td>OOM killed</td><td>Increase memory limit</td></tr>
<tr><td>139</td><td>Segmentation fault</td><td>Report bug, check for corruption</td></tr>
</tbody>
</table>
</div>
<p><strong>Solution by Cause</strong>:</p>
<p><strong>Config file missing</strong>:</p>
<pre><code class="language-bash"># Check if config exists
ls -la config.json

# If missing, create from template
cp config.example.json config.json
</code></pre>
<p><strong>Invalid JSON in config</strong>:</p>
<pre><code class="language-bash"># Validate JSON syntax
python -m json.tool config.json

# If error, fix the syntax issue
</code></pre>
<p><strong>OOM killed</strong>:</p>
<pre><code class="language-yaml"># In docker-compose.yml, increase memory:
deploy:
  resources:
    limits:
      memory: 4G
</code></pre>
<hr>
<h3 id="database-locked"><a class="header" href="#database-locked">Database Locked</a></h3>
<p><strong>Symptom</strong>:</p>
<ul>
<li><code>database is locked</code> error in logs</li>
<li>SQLite error messages</li>
<li>Fingerprinting failures</li>
</ul>
<p><strong>Understanding the Issue</strong>:</p>
<p>SQLite doesn’t handle concurrent writes well. This happens when:</p>
<pre><code>Process A: Running inference
                │
                ├─▶ UPDATE anomaly_incidents SET ...
                │
Process B: Also running inference (concurrent)
                │
                └─▶ UPDATE anomaly_incidents SET ...
                         │
                         └─▶ ERROR: database is locked
</code></pre>
<p><strong>How This Can Happen</strong>:</p>
<ol>
<li><strong>Manual inference + scheduled inference</strong>: Running <code>docker compose run --rm yaga inference</code> while the scheduled inference is also running</li>
<li><strong>Multiple containers</strong>: Two containers sharing the same volume</li>
<li><strong>Long-running queries</strong>: One process holds lock while another waits</li>
</ol>
<p><strong>Solutions</strong>:</p>
<p><strong>1. Only run one inference at a time</strong>:</p>
<pre><code class="language-bash"># Check if inference is already running
docker compose ps | grep yaga

# If running, wait for it to finish
</code></pre>
<p><strong>2. Use proper container orchestration</strong>:</p>
<p>Ensure only one inference container runs at a time via scheduling:</p>
<pre><code class="language-yaml"># In docker-compose.yml
command: ["scheduler"]  # Uses cron, prevents overlap
</code></pre>
<p><strong>3. Check for stuck processes</strong>:</p>
<pre><code class="language-bash"># Look for zombie inference processes
docker compose exec yaga ps aux | grep python

# If stuck, restart the container
docker compose restart
</code></pre>
<p><strong>Corrupt Database Recovery</strong>:</p>
<p>If the database becomes corrupted:</p>
<pre><code class="language-bash"># Backup current state
cp data/anomaly_state.db data/anomaly_state.db.backup

# Remove corrupted database
rm data/anomaly_state.db

# Restart - new database will be created
docker compose restart
</code></pre>
<p>Note: This loses incident history. All incidents will start fresh (new incident IDs).</p>
<hr>
<h2 id="debugging"><a class="header" href="#debugging">Debugging</a></h2>
<h3 id="enable-verbose-logging"><a class="header" href="#enable-verbose-logging">Enable Verbose Logging</a></h3>
<p>For detailed diagnostic output:</p>
<p><strong>Option 1: Command-line flag</strong></p>
<pre><code class="language-bash">docker compose run --rm yaga inference --verbose
</code></pre>
<p>This shows:</p>
<ul>
<li>Metrics being collected</li>
<li>ML detection results</li>
<li>Pattern matching output</li>
<li>SLO evaluation details</li>
<li>Fingerprinting actions</li>
</ul>
<p><strong>Option 2: Config file</strong></p>
<pre><code class="language-json">{
  "logging": {
    "level": "DEBUG"
  }
}
</code></pre>
<p>Then rebuild and restart:</p>
<pre><code class="language-bash">docker compose build
docker compose up -d
</code></pre>
<p><strong>Log Level Guide</strong>:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Level</th><th>Use Case</th></tr>
</thead>
<tbody>
<tr><td>INFO</td><td>Normal operation (default)</td></tr>
<tr><td>DEBUG</td><td>Troubleshooting, detailed output</td></tr>
<tr><td>WARNING</td><td>Only problems and warnings</td></tr>
<tr><td>ERROR</td><td>Only errors</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="inspect-model-details"><a class="header" href="#inspect-model-details">Inspect Model Details</a></h3>
<p><strong>View model metadata</strong>:</p>
<pre><code class="language-bash"># Check training info
docker compose exec yaga cat /app/smartbox_models/&lt;service&gt;/business_hours/metadata.json | python -m json.tool
</code></pre>
<p>Expected output:</p>
<pre><code class="language-json">{
  "service_name": "booking",
  "period": "business_hours",
  "trained_at": "2024-01-15T02:00:00Z",
  "training_samples": 8640,
  "contamination": 0.02,
  "n_estimators": 250,
  "statistics": {
    "application_latency": {
      "mean": 110.3,
      "std": 45.2,
      "p50": 105.0,
      "p95": 180.0,
      "p99": 250.0
    }
  },
  "calibrated_thresholds": {
    "critical": -0.58,
    "high": -0.32,
    "medium": -0.15,
    "low": -0.08
  }
}
</code></pre>
<p><strong>Check model age</strong>:</p>
<pre><code class="language-bash"># Find oldest and newest models
find smartbox_models -name "metadata.json" -exec sh -c 'echo {} &amp;&amp; grep trained_at {}' \; | sort
</code></pre>
<hr>
<h3 id="check-fingerprint-database"><a class="header" href="#check-fingerprint-database">Check Fingerprint Database</a></h3>
<p><strong>List active incidents</strong>:</p>
<pre><code class="language-bash">docker compose exec yaga sqlite3 /app/data/anomaly_state.db \
  "SELECT fingerprint_id, status, severity, occurrence_count,
          datetime(first_seen), datetime(last_updated)
   FROM anomaly_incidents
   WHERE status != 'CLOSED'
   ORDER BY last_updated DESC;"
</code></pre>
<p><strong>Count incidents by status</strong>:</p>
<pre><code class="language-bash">docker compose exec yaga sqlite3 /app/data/anomaly_state.db \
  "SELECT status, COUNT(*) FROM anomaly_incidents GROUP BY status;"
</code></pre>
<p><strong>Find long-running incidents</strong>:</p>
<pre><code class="language-bash">docker compose exec yaga sqlite3 /app/data/anomaly_state.db \
  "SELECT fingerprint_id, service_name,
          ROUND((julianday('now') - julianday(first_seen)) * 24 * 60) as duration_minutes
   FROM anomaly_incidents
   WHERE status = 'OPEN'
   ORDER BY duration_minutes DESC
   LIMIT 10;"
</code></pre>
<p><strong>Database schema reference</strong>:</p>
<pre><code class="language-sql">-- Main table: anomaly_incidents
fingerprint_id TEXT       -- Pattern identifier (hash)
incident_id TEXT PRIMARY  -- Unique occurrence ID
service_name TEXT         -- Service name
anomaly_name TEXT         -- Anomaly type
status TEXT               -- SUSPECTED, OPEN, RECOVERING, CLOSED
severity TEXT             -- low, medium, high, critical
first_seen TIMESTAMP      -- When first detected
last_updated TIMESTAMP    -- Last detection time
resolved_at TIMESTAMP     -- When closed (NULL if open)
occurrence_count INTEGER  -- Times detected
consecutive_detections INTEGER -- For confirmation
missed_cycles INTEGER     -- For grace period
</code></pre>
<hr>
<h2 id="quick-reference-common-commands"><a class="header" href="#quick-reference-common-commands">Quick Reference: Common Commands</a></h2>
<pre><code class="language-bash"># Health check
docker compose ps
docker compose exec yaga python -c "import smartbox_anomaly; print('OK')"

# View logs
docker compose logs --tail 100
docker compose exec yaga tail -f /app/logs/inference.log

# Manual operations
docker compose run --rm yaga inference --verbose
docker compose run --rm yaga train

# Check models
ls -la smartbox_models/
docker compose exec yaga cat smartbox_models/&lt;service&gt;/business_hours/metadata.json

# Check database
docker compose exec yaga sqlite3 /app/data/anomaly_state.db ".tables"
docker compose exec yaga sqlite3 /app/data/anomaly_state.db "SELECT * FROM anomaly_incidents WHERE status='OPEN';"

# Network connectivity
docker compose exec yaga curl -s http://vm:8428/api/v1/status/buildinfo
docker compose exec yaga curl http://observability-api:8000/health

# Container management
docker compose restart
docker compose build
docker compose up -d
</code></pre>
<hr>
<h2 id="getting-help"><a class="header" href="#getting-help">Getting Help</a></h2>
<p>If you can’t resolve an issue:</p>
<ol>
<li>
<p><strong>Collect diagnostic information</strong>:</p>
<pre><code class="language-bash">docker compose logs --tail 200 &gt; diagnostic.log
docker compose run --rm yaga inference --verbose &gt;&gt; diagnostic.log 2&gt;&amp;1
docker compose exec yaga cat config.json &gt;&gt; diagnostic.log
</code></pre>
</li>
<li>
<p><strong>Check documentation</strong>:</p>
<ul>
<li><a href="../slo/README.html">Configuration Guide</a> - SLO and threshold settings</li>
<li><a href="../detection/pipeline.html">Detection Pipeline</a> - How detection works</li>
<li><a href="../incidents/README.html">Incident Lifecycle</a> - State machine details</li>
</ul>
</li>
<li>
<p><strong>File an issue</strong> with:</p>
<ul>
<li>Symptom description</li>
<li>Expected vs. actual behavior</li>
<li>Diagnostic logs</li>
<li>Configuration (sanitized)</li>
<li>Steps to reproduce</li>
</ul>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../reference/api-payload.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../reference/api-payload.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
